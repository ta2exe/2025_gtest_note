

# ta2exe 公開用リポジトリ運用ルール

[https://github.com/ta2exe](https://github.com/ta2exe)
※メールアドレスは +tales の方

---

## このディレクトリ運用の**目的**

* \*\*公開専用GitHubアカウント（ta2exe）\*\*で“**私的・業務アカウントと絶対に混ざらない**”安全な運用を実現するため。
* **アカウント混在による「誤爆」や「身バレ」事故防止**が最重要。
* **リモート名を`origin`でなく`public`に**統一し、運用ミス防止＆意識づけするため。

  * `origin`にすると「うっかり個人・業務アカウントと間違えてpush」しやすいので**明示的にpublic**と命名。

---

## フォルダ構成

```plaintext
mypublic2025/
├── _template_repo/   ← 新規プロジェクト追加用テンプレ（.git/config済み）
├── app1/             ← 公開用プロジェクト1
├── app2/             ← 公開用プロジェクト2
└── ...               ← 追加プロジェクト
```

---

## **新プロジェクト作成手順（必ずこの通り！）**

1. `_template_repo/`を**丸ごとコピー**して、新プロジェクト名でディレクトリ作成

   ```
   cp -r _template_repo appX
   ```
2. コピー先で開発・ファイル追加・コミット
3. GitHubで新規リポジトリ（同じ名前で）を**publicアカウントで**作成
4. リモート名は必ず`public`で追加（SSH接続の場合）

   ```
   git remote add public git@github.com:ta2exe/新プロジェクト名.git
   ```
5. `.git/config` の `user.name` と `user.email` が「公開用」アカウントのままか**必ず確認**

---

## **なぜ`origin`ではなく`public`なのか？**

* **誤push事故を物理的に防ぐため**
* 複数アカウント運用時、「origin」だと仕事用や私用の設定が混ざりやすく、意図しないアカウントでpushするリスクが大きい
* あえて`public`という名前にして“今は公開用だ”と明示的に意識できる運用にするため

---

## **絶対守るべきルール**

* 新規プロジェクトで`git init`は絶対禁止（設定漏れ・誤爆の原因）
* テンプレ（\_template\_repo）は**編集・コミットしない**、あくまでコピー専用
* もし`.git/config`の設定が消えたり壊れたら、テンプレから再作成



## mypublic2025/README.mdに書く「テンプレ作り直し」マニュアル例

````markdown
---

## 【もし _template_repo を壊した／消したときの再作成手順】

### 1. 新しく空ディレクトリを作成
```sh
mkdir _template_repo
cd _template_repo
````

### 2. 空のREADMEなど、最低限のファイルを作る（必要なら）

```sh
echo "# テンプレートリポジトリ" > README.md
```

### 3. gitで初期化（絶対この中だけ！）

```sh
git init
```

### 4. 公開用アカウント情報をセット

```sh
git config user.name "ta2exe"
git config user.email "（+talesの公開アカウント用メールアドレス）"
```

### 5. 最初のコミット

```sh
git add .
git commit -m "init template"
```

### 6. ※このディレクトリを「新規プロジェクト追加時のひな型」として使う

* このディレクトリは「絶対編集しない」テンプレ専用
* 新しいプロジェクトを作るときは`cp -r _template_repo appX`でコピーしてから開発を始める

---

**ポイント：**

* 必ず`user.name`と`user.email`を「公開用アカウント」に設定
* （もしSSHキー管理してる場合は、必ず公開用SSHキーでアクセスする）

---

*何か壊したり消したりしても、ここに書いた手順をなぞればすぐにテンプレ再構築できます！*

```




